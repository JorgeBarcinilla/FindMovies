<div class="min-h-screen bg-gray-100 dark:bg-slate-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
  <header
    class="sticky top-0 z-50 px-4 sm:px-8 py-4 bg-gray-100/70 dark:bg-slate-900/70 backdrop-blur-xl border-b border-gray-200 dark:border-white/10 animate-slide-down"
  >
    <div class="max-w-7xl mx-auto flex items-center justify-between gap-4 flex-wrap">
      <div class="flex items-center gap-4">
        <h1
          class="text-2xl font-extrabold bg-linear-to-r from-gray-900 to-purple-600 dark:from-white dark:to-purple-400 bg-clip-text text-transparent"
        >
          FindMovies
        </h1>
      </div>
      <app-search-bar class="block flex-1 max-w-md order-3 sm:order-2" />
      <app-theme-toggle class="order-2 sm:order-3" />
    </div>
  </header>

  <div
    class="relative px-4 sm:px-8 py-16 bg-linear-to-b from-transparent via-50% via-gray-100/60 to-gray-100 dark:from-transparent dark:via-30% dark:via-slate-900/40 dark:to-slate-900 overflow-hidden"
  >
    <div class="floating-orb floating-orb-1"></div>
    <div class="floating-orb floating-orb-2"></div>

    <div class="relative z-10 max-w-7xl mx-auto text-center animate-fade-in-up">
      <h1
        class="text-4xl sm:text-5xl lg:text-6xl font-black leading-tight mb-4 bg-linear-to-r from-gray-900 to-purple-600 dark:from-white dark:to-purple-400 bg-clip-text text-transparent"
      >
        Descubre tu próxima película favorita
      </h1>
      <p class="text-lg sm:text-xl text-gray-600 dark:text-gray-400 font-normal">
        Explora miles de películas y series, encuentra lo que te apasiona
      </p>
    </div>
  </div>

  <main class="max-w-7xl mx-auto px-4 sm:px-8 py-12">
    <section class="mb-16 animate-fade-in-up">
      <div class="mb-8">
        <h2
          class="text-3xl sm:text-4xl font-extrabold mb-2 bg-linear-to-r from-gray-900 to-purple-600 dark:from-white dark:to-purple-400 bg-clip-text text-transparent"
        >
          En Tendencia
        </h2>
        <p class="text-base text-gray-600 dark:text-gray-400">Lo más popular del momento</p>
      </div>

      <app-tab-switcher [tabs]="trendingTabs" [activeTab]="_moviesStore.trendingTabSelected | signal" />

      @if ((_moviesStore.trendingTabSelected | signal)=== 'movies') {
      <app-horizontal-scroll [isLoading]="_moviesStore.isLoadingMoreMovies | signal" (loadMore)="onLoadMoreMovies()">
        @for (movie of _moviesStore.trendingMovies | signal; let i = $index; track movie.id) {
        <div class="shrink-0">
          <app-media-card [media]="movie" [priority]="i < 4" />
        </div>
        } @if (_moviesStore.isLoadingMoreMovies | signal) { @for (item of [1,2,3]; track item) {
        <div class="shrink-0">
          <app-skeleton-loader width="300px" height="450px" />
        </div>
        } }
      </app-horizontal-scroll>
      } @if ((_moviesStore.trendingTabSelected | signal) === 'series') {
      <app-horizontal-scroll [isLoading]="_moviesStore.isLoadingMoreSeries | signal" (loadMore)="onLoadMoreSeries()">
        @for (series of _moviesStore.trendingTvSeries | signal; let i = $index; track series.id) {
        <div class="shrink-0">
          <app-media-card [media]="series" [priority]="i < 4" />
        </div>
        } @if (_moviesStore.isLoadingMoreSeries | signal) { @for (item of [1,2,3]; track item) {
        <div class="shrink-0">
          <app-skeleton-loader width="300px" height="450px" />
        </div>
        } }
      </app-horizontal-scroll>
      }
    </section>

    <section class="mb-16 animate-fade-in-up">
      <div class="mb-8">
        <h2
          class="text-3xl sm:text-4xl font-extrabold mb-2 bg-linear-to-r from-gray-900 to-purple-600 dark:from-white dark:to-purple-400 bg-clip-text text-transparent"
        >
          Estrenos y Anuncios
        </h2>
        <p class="text-base text-gray-600 dark:text-gray-400">Las últimas novedades del año</p>
      </div>

      <app-horizontal-scroll [isLoading]="_moviesStore.isLoadingMoreRecent | signal" (loadMore)="onLoadMoreRecent()">
        @for (media of _moviesStore.recentReleases | signal; let i = $index; track media.id) {
        <div class="shrink-0">
          <app-media-card [media]="media" [priority]="i < 4" />
        </div>
        } @if (_moviesStore.isLoadingMoreRecent | signal) { @for (item of [1,2,3]; track item) {
        <div class="shrink-0">
          <app-skeleton-loader width="300px" height="450px" />
        </div>
        } }
      </app-horizontal-scroll>
    </section>
  </main>
</div>
